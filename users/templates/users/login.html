{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% trans "Início de Sessão | Infantinho 3.0" %}{% endblock %}

{% block sidebar %}{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-logo">
        <img src="{% static 'logo.png' %}" alt="{% trans 'Infantinho 3.0 Logo' %}" height="80">
    </div>
    <h1>{% trans "Iniciar Sessão" %}</h1>
    <p class="login-help">{% trans "Alunos e professores: usem a conta Microsoft escolar. Pais e administradores: usem o início de sessão por email." %}</p>
    <div class="login-options">
        <form action="{% url 'login_microsoft' %}" method="post" class="login-microsoft">
            {% csrf_token %}
            <button type="submit" class="btn btn-microsoft">
                <img src="{% static 'microsoft_logo.png' %}" alt="Microsoft" class="icon"> {% trans "Entrar com Microsoft" %}
            </button>
            <span class="login-desc">{% trans "(Alunos e Professores)" %}</span>
        </form>
        <form action="{% url 'login_local' %}" method="post" class="login-local">
            {% csrf_token %}
            {% if login_local %}
                {{ form.non_field_errors }}
                <div class="form-group">
                    <label for="id_username">{% trans "Email" %}</label>
                    {{ form.username }}
                </div>
                <div class="form-group">
                    <label for="id_password">{% trans "Palavra-passe" %}</label>
                    {{ form.password }}
                </div>
                <button type="submit" class="btn btn-primary">{% trans "Entrar com Email/Palavra-passe" %}</button>
            {% else %}
                <input type="email" name="email" id="id_email" required>
                <input type="password" name="password" id="id_password" required>
                <button type="submit" class="btn btn-primary">{% trans "Entrar com Email/Palavra-passe" %}</button>
            {% endif %}
            <span class="login-desc">{% trans "(Pais/Encarregados/Admin)" %}</span>
        </form>
        <div class="login-links">
            <a href="{% url 'password_reset' %}">{% trans "Recuperar palavra-passe" %}</a>
        </div>
    </div>
</div>
{% endblock %} 